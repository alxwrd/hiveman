var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,t){e.appendChild(t)}function s(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function u(e){return document.createElement(e)}function i(e){return document.createTextNode(e)}function f(){return i(" ")}function d(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}let h;function g(e){h=e}const b=[],m=[],$=[],y=[],v=Promise.resolve();let x=!1;function w(e){$.push(e)}function _(e){y.push(e)}let k=!1;const j=new Set;function E(){if(!k){k=!0;do{for(let e=0;e<b.length;e+=1){const t=b[e];g(t),O(t.$$)}for(b.length=0;m.length;)m.pop()();for(let e=0;e<$.length;e+=1){const t=$[e];j.has(t)||(j.add(t),t())}$.length=0}while(b.length);for(;y.length;)y.pop()();x=!1,k=!1,j.clear()}}function O(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(w)}}const N=new Set;let T;function A(e,t){e&&e.i&&(N.delete(e),e.i(t))}function L(e,t,n,o){if(e&&e.o){if(N.has(e))return;N.add(e),T.c.push(()=>{N.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}function C(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function H(e){e&&e.c()}function S(e,n,l){const{fragment:c,on_mount:s,on_destroy:a,after_update:u}=e.$$;c&&c.m(n,l),w(()=>{const n=s.map(t).filter(r);a?a.push(...n):o(n),e.$$.on_mount=[]}),u.forEach(w)}function M(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function P(e,t){-1===e.$$.dirty[0]&&(b.push(e),x||(x=!0,v.then(E)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function z(t,r,l,c,s,u,i=[-1]){const f=h;g(t);const d=r.props||{},p=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:i};let b=!1;if(p.ctx=l?l(t,d,(e,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&s(p.ctx[e],p.ctx[e]=r)&&(p.bound[e]&&p.bound[e](r),b&&P(t,e)),n}):[],p.update(),b=!0,o(p.before_update),p.fragment=!!c&&c(p.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);p.fragment&&p.fragment.l(e),e.forEach(a)}else p.fragment&&p.fragment.c();r.intro&&A(t.$$.fragment),S(t,r.target,r.anchor),E()}g(f)}class B{$destroy(){M(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function D(t){let n,r,l,h,g,b,m,$;return{c(){n=u("div"),r=u("label"),l=i(t[1]),h=f(),g=u("input"),p(r,"class","font-bold text-gray-700 block mb-2"),p(g,"type",t[3]),g.value=t[0],p(g,"class",b="block appearance-none w-full bg-white border border-gray-400\r\n    hover:border-gray-600 px-2 py-2 rounded shadow outline-none "+(""===t[0]&&t[4]?"border-red-400":"border-gray-400")),p(g,"placeholder",t[2]),p(n,"class","mb-4")},m(e,o){s(e,n,o),c(n,r),c(r,l),c(n,h),c(n,g),m||($=[d(g,"blur",t[5]),d(g,"input",t[6]),d(g,"change",t[6])],m=!0)},p(e,[t]){2&t&&function(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}(l,e[1]),8&t&&p(g,"type",e[3]),1&t&&g.value!==e[0]&&(g.value=e[0]),17&t&&b!==(b="block appearance-none w-full bg-white border border-gray-400\r\n    hover:border-gray-600 px-2 py-2 rounded shadow outline-none "+(""===e[0]&&e[4]?"border-red-400":"border-gray-400"))&&p(g,"class",b),4&t&&p(g,"placeholder",e[2])},i:e,o:e,d(e){e&&a(n),m=!1,o($)}}}function W(e,t,n){let{label:o}=t,{placeholder:r=o}=t,{type:l="text"}=t,{value:c=""}=t,s=!1;return e.$set=e=>{"label"in e&&n(1,o=e.label),"placeholder"in e&&n(2,r=e.placeholder),"type"in e&&n(3,l=e.type),"value"in e&&n(0,c=e.value)},[c,o,r,l,s,()=>{n(4,s=!0)},e=>{n(0,c="checkbox"===e.target.type?e.target.checked:e.target.value)}]}class X extends B{constructor(e){super(),z(this,e,W,D,l,{label:1,placeholder:2,type:3,value:0})}}const q=[];const I=function(t,n=e){let o;const r=[];function c(e){if(l(t,e)&&(t=e,o)){const e=!q.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),q.push(n,t)}if(e){for(let e=0;e<q.length;e+=2)q[e][0](q[e+1]);q.length=0}}}return{set:c,update:function(e){c(e(t))},subscribe:function(l,s=e){const a=[l,s];return r.push(a),1===r.length&&(o=n(c)||e),l(t),()=>{const e=r.indexOf(a);-1!==e&&r.splice(e,1),0===r.length&&(o(),o=null)}}}}("");let J;I.subscribe(e=>{J=e});function U(e,t){return(n="/auth/sessions",o="POST",r=JSON.stringify({sessions:[{username:e,password:t,caller:"WEB"}]}),l=Object.assign(l||{},{"Content-Type":"application/vnd.alertme.zoo-6.1+json",Accept:"application/vnd.alertme.zoo-6.1+json","X-Omnia-Client":"Hive Web Dashboard"}),J&&(l=Object.assign(l,{"X-Omnia-Access-Token":J})),fetch("https://api.prod.bgchprod.info:443/omnia"+n,{method:o,headers:l,body:r}).then(e=>{if(!e.ok&&401===e.status)throw new Error("Not authorised, check token: "+J);return e})).then(e=>{if(!e.ok)throw new Error;return e.json()}).then(e=>(I.set(e.sessions[0].sessionId),e));var n,o,r,l}function F(e){let t,n,o,r,l,i,h,g,b,$,y,v,x,w,k;function j(t){e[3].call(null,t)}let E={label:"Username"};function O(t){e[4].call(null,t)}void 0!==e[0]&&(E.value=e[0]),i=new X({props:E}),m.push(()=>C(i,"value",j));let N={label:"Password",type:"password"};return void 0!==e[1]&&(N.value=e[1]),b=new X({props:N}),m.push(()=>C(b,"value",O)),{c(){t=u("div"),n=u("div"),n.innerHTML='<img class="lg:h-32 md:h-24 h-16" src="assests/hive.svg" alt="Logo, of a bee hive"> \n    <p class="lg:text-5xl md:text-4xl text-2xl px-2 font-bold text-gray-800">Hiveman</p>',o=f(),r=u("div"),l=u("form"),H(i.$$.fragment),g=f(),H(b.$$.fragment),y=f(),v=u("div"),v.innerHTML='<button class="bg-yellow-600 hover:bg-yellow-500 text-white font-bold py-2\n          px-4 rounded">Login</button>',p(n,"class","w-full py-6 flex justify-center items-center"),p(v,"class","flex items-center justify-between"),p(r,"class","border-yellow-600 p-8 border-t-8 bg-white mb-6 rounded-lg shadow-lg"),p(t,"class","w-10/12 lg:w-8/12 xl:w-5/12")},m(a,u){var f;s(a,t,u),c(t,n),c(t,o),c(t,r),c(r,l),S(i,l,null),c(l,g),S(b,l,null),c(l,y),c(l,v),x=!0,w||(k=d(l,"submit",(f=e[2],function(e){return e.preventDefault(),f.call(this,e)})),w=!0)},p(e,[t]){const n={};!h&&1&t&&(h=!0,n.value=e[0],_(()=>h=!1)),i.$set(n);const o={};!$&&2&t&&($=!0,o.value=e[1],_(()=>$=!1)),b.$set(o)},i(e){x||(A(i.$$.fragment,e),A(b.$$.fragment,e),x=!0)},o(e){L(i.$$.fragment,e),L(b.$$.fragment,e),x=!1},d(e){e&&a(t),M(i),M(b),w=!1,k()}}}function G(e,t,n){let o,r;return[o,r,function(){o&&r?U(o,r):console.error("No login data supplied")},function(e){o=e,n(0,o)},function(e){r=e,n(1,r)}]}class K extends B{constructor(e){super(),z(this,e,G,F,l,{})}}function Q(e){let t,n,o;return n=new K({}),{c(){t=u("div"),H(n.$$.fragment),p(t,"class","container mx-auto my-16 xl:my-32 flex justify-center items-center")},m(e,r){s(e,t,r),S(n,t,null),o=!0},i(e){o||(A(n.$$.fragment,e),o=!0)},o(e){L(n.$$.fragment,e),o=!1},d(e){e&&a(t),M(n)}}}function R(e){let t,n,r=!e[0]&&Q();return{c(){r&&r.c(),t=i("")},m(e,o){r&&r.m(e,o),s(e,t,o),n=!0},p(e,[n]){e[0]?r&&(T={r:0,c:[],p:T},L(r,1,1,()=>{r=null}),T.r||o(T.c),T=T.p):r?1&n&&A(r,1):(r=Q(),r.c(),A(r,1),r.m(t.parentNode,t))},i(e){n||(A(r),n=!0)},o(e){L(r),n=!1},d(e){r&&r.d(e),e&&a(t)}}}function V(e,t,n){let o=!1;I.subscribe(e=>{n(0,o=!!e)});return[o]}return new class extends B{constructor(e){super(),z(this,e,V,R,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
